<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Event Gallery</title>
    <link rel="stylesheet" href="css/style.css">

    <style>
        body {
            display: block !important;
            min-height: 100vh;
            background: linear-gradient(135deg, #020617, #0f172a);
            color: #e5e7eb;
            padding-top: 64px;
            margin: 0;
        }

        .event-container {
            width: 90%;
            max-width: 1200px;
            margin: 3rem auto;
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.8rem;
        }

        .photo-grid img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 14px;
            transition: transform 0.35s ease, box-shadow 0.35s ease;
            cursor: pointer;
        }

        .photo-grid img:hover {
            transform: scale(1.05);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.4);
        }

        .back-link {
            display: inline-block;
            margin-bottom: 1.5rem;
            color: #60a5fa;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .lightbox {
            position: fixed;
            inset: 0;
            background: rgba(2, 6, 23, 0.9);
            backdrop-filter: blur(6px);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 10000;
        }

        .lightbox.active {
            opacity: 1;
            pointer-events: all;
        }

        .lightbox img {
            max-width: 90%;
            max-height: 85vh;
            border-radius: 16px;
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 28px;
            font-size: 2.2rem;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="navbar">
        <a href="home.html" class="logo">Club Portal</a>

        <div class="nav-links">
            <a href="about.html">About</a>
            <a href="clubs.html">Clubs</a>
            <a href="gallery.html">Gallery</a>
            <a href="events.html">Events</a>
            <a href="qna.html">Help</a>
            <a href="#" onclick="logout()">Logout</a>
        </div>
    </div>


    <div class="event-container">
        <!-- ✅ FIXED LINE -->
        <a href="gallery.html" class="back-link">← Back to Gallery</a>

        <h2 id="eventTitle">Event</h2>
        <div class="photo-grid" id="photoGrid"></div>
    </div>

    <div id="lightbox" class="lightbox">
        <span class="lightbox-close">&times;</span>
        <img id="lightbox-img" src="">
    </div>

    <script>
        const eventId = new URLSearchParams(window.location.search).get('event');

        const titles = {
            techfest: 'Tech Fest 2024',
            cultural: 'Cultural Night',
            sports: 'Sports Meet',
            hackathon: 'Hackathon',
            workshop: 'Workshop Series',
            freshers: 'Freshers Day'
        };

        document.getElementById('eventTitle').innerText =
            titles[eventId] || 'Event Gallery';

        const grid = document.getElementById('photoGrid');

        for (let i = 1; i <= 10; i++) {
            const img = document.createElement('img');
            img.src = `images/${eventId}/${i}.jpg`;
            img.onclick = () => openLightbox(img.src);
            grid.appendChild(img);
        }

        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const closeBtn = document.querySelector('.lightbox-close');

        function openLightbox(src) {
            lightboxImg.src = src;
            lightbox.classList.add('active');
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
        }

        // ✅ Close via X
        closeBtn.addEventListener('click', closeLightbox);

        // ✅ Close by clicking dark background
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                closeLightbox();
            }
        });
    </script>
    <script src="js/common.js"></script>

</body>

</html>